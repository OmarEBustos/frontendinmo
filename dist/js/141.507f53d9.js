"use strict";(self["webpackChunktienda"]=self["webpackChunktienda"]||[]).push([[141],{141:function(t,s,a){a.r(s),a.d(s,{default:function(){return p}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"pb-5",staticStyle:{background:"#f3f3f3"}},[s("section",{staticClass:"hero",staticStyle:{"margin-top":"8rem !important"}},[s("div",{staticClass:"container"},[s("ol",{staticClass:"breadcrumb justify-content-center"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),s("li",{staticClass:"breadcrumb-item active"},[t._v("Checkout")])]),t._m(0)])]),s("section",[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"block mb-5"},[t._m(1),s("div",{staticClass:"block-body",staticStyle:{background:"#fff6e8 !important"}},[s("div",{staticClass:"row"},t._l(t.direcciones,(function(a){return s("div",{staticClass:"mb-4 col-md-6 d-flex align-items-center"},[s("input",{attrs:{type:"radio",name:"shippping",id:"option0"},domProps:{value:a._id},on:{change:function(s){return t.selected_direccion(s)}}}),s("label",{staticClass:"ms-3",attrs:{for:"option0"}},[s("strong",{staticClass:"d-block text-uppercase mb-2"},[t._v(t._s(a.pais)+", "+t._s(a.ciudad))]),s("span",{staticClass:"text-muted text-sm"},[t._v(t._s(a.direccion))]),t._v(" "),s("br"),s("span",{staticClass:"text-muted text-sm"},[t._v(t._s(a.nombre)+" "+t._s(a.apellidos)+", "+t._s(a.telefono))])])])})),0)])]),s("div",{staticClass:"mb-5"},[s("div",{staticClass:"cart"},[s("div",{staticClass:"cart-wrapper"},[t._m(2),s("div",{staticClass:"cart-body",staticStyle:{background:"#fff6e8 !important"}},t._l(t.productos,(function(a){return s("div",{staticClass:"cart-item"},[s("div",{staticClass:"row d-flex align-items-center text-center"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"d-flex align-items-center"},[s("a",{attrs:{href:"detail.html"}},[s("img",{staticClass:"cart-item-img",attrs:{src:t.$url+"/obtener_portada_producto/"+a.producto.portada,alt:"..."}})]),s("div",{staticClass:"cart-title text-start"},[s("a",{staticClass:"text-uppercase text-dark",attrs:{href:"detail.html"}},[s("strong",[t._v(t._s(a.producto.titulo.substr(0,20))+"...")])]),s("br"),s("span",{staticClass:"text-muted text-sm"},[t._v(t._s(a.producto.str_variedad)+": "+t._s(a.variedad.variedad))])])])]),s("div",{staticClass:"col-2"},[t._v(t._s(t.convertCurrency(a.producto.precio)))]),s("div",{staticClass:"col-2"},[t._v(" "+t._s(a.cantidad)+" ")]),s("div",{staticClass:"col-2 text-center"},[t._v(t._s(t.convertCurrency(a.producto.precio*a.cantidad)))])])])})),0)])])]),s("div",{staticClass:"mb-5 d-flex justify-content-between flex-column flex-lg-row"},[s("router-link",{staticClass:"btn btn-link text-muted",attrs:{to:"/shop",href:"checkout3.html"}},[t._v("Regresar a tienda")]),s("a",{staticClass:"btn btn-dark",attrs:{href:"checkout5.html"}},[t._v("Place an order")])],1)]),s("div",{staticClass:"col-lg-4"},[s("div",{staticClass:"block mb-5"},[t._m(3),s("div",{staticClass:"block-body pt-1",staticStyle:{background:"#fff6e8 !important"}},[s("p",{staticClass:"text-sm"},[t._v("Shipping and additional costs are calculated based on values you have entered.")]),s("ul",{staticClass:"order-summary mb-0 list-unstyled"},[s("li",{staticClass:"order-summary-item"},[s("span",[t._v("Subtotal ")]),s("span",[t._v(t._s(t.convertCurrency(t.total)))])]),s("li",{staticClass:"order-summary-item"},[s("span",[t._v("Envio")]),s("span",[t._v(t._s(t.convertCurrency(t.$envio)))])]),s("li",{staticClass:"order-summary-item border-0"},[s("span",[t._v("Total")]),s("strong",{staticClass:"order-summary-total"},[t._v(t._s(t.convertCurrency(t.total+t.$envio)))])])])])]),s("div",{staticClass:"block mb-5"},[t._m(4),t._m(5),s("div",{staticClass:"block-footer"},[s("a",{staticClass:"btn btn-dark",staticStyle:{cursor:"pointer",width:"100%"},attrs:{id:"btnBuy"},on:{click:function(s){return t.crearPreferencia()}}},[t._v("PAGAR")])])])])])])])])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"hero-content pb-5 text-center"},[s("h1",{staticClass:"hero-heading"},[t._v("Checkout")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-8 offset-xl-2"},[s("p",{staticClass:"lead text-muted"},[t._v("Por favor revisa tu orden.")])])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block-header",staticStyle:{background:"#2983df !important"}},[s("h6",{staticClass:"text-uppercase mb-0 text-white"},[t._v("Dirección de entrega ")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"cart-header text-center",staticStyle:{background:"#2983df !important"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"text-left text-white"},[t._v("Producto")])]),s("div",{staticClass:"col-2"},[s("span",{staticClass:"text-white"},[t._v("Precio")])]),s("div",{staticClass:"col-2"},[s("span",{staticClass:"text-white"},[t._v("Cantidad")])]),s("div",{staticClass:"col-2"},[s("span",{staticClass:"text-white"},[t._v("Total")])])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block-header",staticStyle:{background:"#fff6e8 !important"}},[s("h6",{staticClass:"text-uppercase mb-0"},[t._v("Order Summary")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block-header",staticStyle:{background:"#fff6e8 !important"}},[s("h6",{staticClass:"text-uppercase mb-0"},[t._v("Método de pago")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"block-body pt-1 mb-3",staticStyle:{background:"#fff6e8 !important"}},[s("div",{staticClass:"col-md-12 mb-2"},[s("span",{staticClass:"d-block mb-2",staticStyle:{"letter-spacing":"0px","font-weight":"600"}},[t._v("Tarjeta de crédito o débito")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 mb-2"},[s("img",{staticStyle:{width:"180px"},attrs:{src:"/assets/media/payments.png"}})]),s("div",{staticClass:"col-12"},[s("p",{staticClass:"text-muted",staticStyle:{"font-size":"13px"}},[t._v(' (Luego de hacer clic en "PAGAR" será redirigido a Mercado Pago de forma segura para completar su compra).')])])])]),s("div",{staticClass:"col-md-12"},[s("p",{staticClass:"text-sm",staticStyle:{"margin-bottom":"0.4rem"}},[t._v("Deberes e impuestos no están incluidos en paquetes con envio internacional. /Tus datos personales serán utilizados para procesar tu pedido y respaldar tu experiencia en este sitio web.")]),s("a",[s("b",[t._v(" Términos & Privacidad.")])])])])}],c=a(5121),r=a(3748),o=a.n(r),n={name:"CheckoutView",data(){return{direcciones:[],venta:{},productos:[],total:0,load_data:!0,items:[]}},beforeMount(){this.init_direcciones(),this.init_carrito()},methods:{convertCurrency(t){return o().format(t,{code:"USD"})},init_direcciones(){c.Z.get(this.$url+"/obternet_direcciones_cliente",{headers:{"Content-Type":"application/json",Authorization:this.$store.state.token}}).then((t=>{console.log(t),this.direcciones=t.data}))},selected_direccion(t){this.venta.direccion=t.target.value},init_carrito(){null!=this.$store.state.token&&(this.load_data=!0,c.Z.get(this.$url+"/obtener_carrito_cliente",{headers:{"Content-Type":"application/json",Authorization:this.$store.state.token}}).then((t=>{for(var s of(this.total=0,t.data.carrito_general)){let t=s.producto.precio*s.cantidad;this.total=this.total+t,this.items.push({title:s.producto.titulo,quantity:s.cantidad,unit_price:s.producto.precio,currency_id:"USD"})}this.items.push({title:"Envio",quantity:1,unit_price:this.$envio,currency_id:"USD"}),this.productos=t.data.carrito_general,this.load_data=!1})))},crearPreferencia(){let t={back_urls:{success:"http://localhost:8080/verificacion/success/"+this.venta.direccion,pending:"http://localhost:8080/verificacion/pending",failure:"http://localhost:8080/verificacion/failure"},items:this.items,auto_return:"approved"};console.log(t),c.Z.post("https://api.mercadopago.com/checkout/preferences",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer TEST-3299853704240812-011910-c92d25f431290a1d9cc068c476d83452-149313662"}}).then((t=>{console.log(t),window.location.href=t.data.sandbox_init_point}))}}},l=n,d=a(1001),u=(0,d.Z)(l,e,i,!1,null,null,null),p=u.exports}}]);
//# sourceMappingURL=141.507f53d9.js.map